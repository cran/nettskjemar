<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Enhanced Workflow with Labelled Data</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Enhanced Workflow with Labelled Data</h1>



<div id="introduction-to-using-labelled-data" class="section level2">
<h2>Introduction to using Labelled data</h2>
<p>Labelled data is a type of dataset where variables or their values
contain additional metadata. These datasets, common in tools like SPSS
or Stata, allow for better understanding and documentation of
variables.</p>
<p>The <code>{haven}</code> package in R is specifically designed for
working with such datasets. It enhances metadata handling by allowing
you to embed variable and value labels directly into your data.</p>
<p>In this vignette, weâ€™ll explore how labelled data works, leveraging
key <code>{haven}</code> package functionalities to extract, inspect,
and manipulate labels.</p>
</div>
<div id="getting-labelled-data-from-nettskjemar" class="section level2">
<h2>Getting labelled data from nettskjemar</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(nettskjemar)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="co"># Replace this with your form ID</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>formid <span class="ot">&lt;-</span> <span class="dv">123823</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">ns_get_data</span>(formid)</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>data</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="co">#&gt;   formid $submission_id                  $created  freetext radio</span></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="co">#&gt; 1 123823       27685292 2023-06-01T20:57:15+02:00 some text     1</span></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="co">#&gt;   checkbox.questionnaires checkbox.events checkbox.logs dropdown</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="co">#&gt; 1                       1               1             0        4</span></span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="co">#&gt;   radio_matrix.grants radio_matrix.lecture radio_matrix.email</span></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="co">#&gt; 1                   1                    2                  2</span></span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a><span class="co">#&gt;   checkbox_matrix.1.IT checkbox_matrix.1.colleague checkbox_matrix.1.admin</span></span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a><span class="co">#&gt; 1                    1                           1                       0</span></span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a><span class="co">#&gt;   checkbox_matrix.1.union checkbox_matrix.1.internet checkbox_matrix.2.IT</span></span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a><span class="co">#&gt; 1                       0                          0                    0</span></span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a><span class="co">#&gt;   checkbox_matrix.2.colleague checkbox_matrix.2.admin checkbox_matrix.2.union</span></span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a><span class="co">#&gt; 1                           0                       1                       0</span></span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a><span class="co">#&gt;   checkbox_matrix.2.internet       date  time         datetime number_decimal</span></span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a><span class="co">#&gt; 1                          0 2023-06-01 12:00 2023-06-12T13:33            4.5</span></span>
<span id="cb1-22"><a href="#cb1-22" tabindex="-1"></a><span class="co">#&gt;   number_integer slider attachment_1 attachment_2 $answer_time_ms</span></span>
<span id="cb1-23"><a href="#cb1-23" tabindex="-1"></a><span class="co">#&gt; 1           77.0      3    sÃ¸lvi.png                        74630</span></span>
<span id="cb1-24"><a href="#cb1-24" tabindex="-1"></a><span class="co">#&gt;  [ reached &#39;max&#39; / getOption(&quot;max.print&quot;) -- omitted 2 rows ]</span></span></code></pre></div>
<p>Here we have our example data, displayed as a standard data.frame.
There is nothing particularly special about it. To continue, we also
need to download the form codebook, as we need this to add the
labels.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>cb <span class="ot">&lt;-</span> <span class="fu">ns_get_codebook</span>(formid)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>cb</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="co">#&gt;   element_no element_type element_code</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="co">#&gt; 1          1      HEADING         &lt;NA&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="co">#&gt; 2          2         TEXT         &lt;NA&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="co">#&gt; 3          3        IMAGE         &lt;NA&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="co">#&gt; 4          4   PAGE_BREAK         &lt;NA&gt;</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="co">#&gt; 5          5     QUESTION     freetext</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="co">#&gt;                                                                              element_text</span></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="co">#&gt; 1                                        Let talk about Nettskjema! This is a subheading!</span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a><span class="co">#&gt; 2                                                                                    &lt;NA&gt;</span></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="co">#&gt; 3                                                                                    &lt;NA&gt;</span></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="co">#&gt; 4                                                                                    &lt;NA&gt;</span></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="co">#&gt; 5 This is a question about something super important, where the user can input free text.</span></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a><span class="co">#&gt;                                                                                 element_desc</span></span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a><span class="co">#&gt; 1                                                                                       &lt;NA&gt;</span></span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="co">#&gt; 2 &lt;p&gt;This is some text in the form, not a question but a descriptive text.&lt;/p&gt;\n\n&lt;p&gt;Â &lt;/p&gt;\n</span></span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a><span class="co">#&gt; 3                                                                                       &lt;NA&gt;</span></span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a><span class="co">#&gt; 4                                                                                       &lt;NA&gt;</span></span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a><span class="co">#&gt; 5   &lt;p&gt;With a description field giving details on what should be answered.&lt;/p&gt;\n\n&lt;p&gt;Â &lt;/p&gt;\n</span></span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a><span class="co">#&gt;   subelement_seq answer_text answer_code answer_seq</span></span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a><span class="co">#&gt; 1             NA        &lt;NA&gt;        &lt;NA&gt;         NA</span></span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a><span class="co">#&gt; 2             NA        &lt;NA&gt;        &lt;NA&gt;         NA</span></span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a><span class="co">#&gt; 3             NA        &lt;NA&gt;        &lt;NA&gt;         NA</span></span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a><span class="co">#&gt; 4             NA        &lt;NA&gt;        &lt;NA&gt;         NA</span></span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a><span class="co">#&gt; 5             NA        &lt;NA&gt;        &lt;NA&gt;         NA</span></span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a><span class="co">#&gt;  [ reached &#39;max&#39; / getOption(&quot;max.print&quot;) -- omitted 34 rows ]</span></span></code></pre></div>
<p>To add the labels, we use the <code>ns_add_labels</code> function,
using both the unlabelled data and the codebook.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>lab_data <span class="ot">&lt;-</span> data <span class="sc">|&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>  <span class="fu">ns_add_labels</span>(cb)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>lab_data</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="co">#&gt;   formid $submission_id                  $created  freetext radio</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="co">#&gt; 1 123823       27685292 2023-06-01T20:57:15+02:00 some text     1</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="co">#&gt;   checkbox.questionnaires checkbox.events checkbox.logs dropdown</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="co">#&gt; 1                       1               1             0        4</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="co">#&gt;   radio_matrix.grants radio_matrix.lecture radio_matrix.email</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="co">#&gt; 1                   1                    2                  2</span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="co">#&gt;   checkbox_matrix.1.IT checkbox_matrix.1.colleague checkbox_matrix.1.admin</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="co">#&gt; 1                    1                           1                       0</span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="co">#&gt;   checkbox_matrix.1.union checkbox_matrix.1.internet checkbox_matrix.2.IT</span></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="co">#&gt; 1                       0                          0                    0</span></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a><span class="co">#&gt;   checkbox_matrix.2.colleague checkbox_matrix.2.admin checkbox_matrix.2.union</span></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a><span class="co">#&gt; 1                           0                       1                       0</span></span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a><span class="co">#&gt;   checkbox_matrix.2.internet       date  time         datetime number_decimal</span></span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a><span class="co">#&gt; 1                          0 2023-06-01 12:00 2023-06-12T13:33            4.5</span></span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a><span class="co">#&gt;   number_integer slider attachment_1 attachment_2 $answer_time_ms</span></span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a><span class="co">#&gt; 1           77.0      3    sÃ¸lvi.png                        74630</span></span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a><span class="co">#&gt;  [ reached &#39;max&#39; / getOption(&quot;max.print&quot;) -- omitted 2 rows ]</span></span></code></pre></div>
<p>You will notice that this does on the surface look completely normal,
with no added extras. Inspecting the data with the <code>str</code>
function will however expose what lies beneath the surface.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">str</span>(data)</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="co">#&gt; &#39;data.frame&#39;:    3 obs. of  31 variables:</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="co">#&gt;  $ formid                     : num  123823 123823 123823</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="co">#&gt;  $ $submission_id             : int  27685292 27685302 27685319</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="co">#&gt;  $ $created                   : chr  &quot;2023-06-01T20:57:15+02:00&quot; &quot;2023-06-01T20:58:33+02:00&quot; &quot;2023-06-01T20:59:50+02:00&quot;</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="co">#&gt;  $ freetext                   : chr  &quot;some text&quot; &quot;another answer&quot; &quot;&quot;</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co">#&gt;  $ radio                      : int  1 -1 -1</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="co">#&gt;  $ checkbox.questionnaires    : int  1 0 1</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="co">#&gt;  $ checkbox.events            : int  1 0 1</span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a><span class="co">#&gt;  $ checkbox.logs              : int  0 1 1</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a><span class="co">#&gt;  $ dropdown                   : int  4 9 4</span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a><span class="co">#&gt;  $ radio_matrix.grants        : int  1 3 1</span></span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a><span class="co">#&gt;  $ radio_matrix.lecture       : int  2 3 1</span></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="co">#&gt;  $ radio_matrix.email         : int  2 1 1</span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.1.IT       : int  1 0 0</span></span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.1.colleague: int  1 0 1</span></span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.1.admin    : int  0 0 0</span></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.1.union    : int  0 0 0</span></span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.1.internet : int  0 1 1</span></span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.2.IT       : int  0 0 1</span></span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.2.colleague: int  0 0 1</span></span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.2.admin    : int  1 1 1</span></span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.2.union    : int  0 1 1</span></span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.2.internet : int  0 0 0</span></span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a><span class="co">#&gt;  $ date                       : chr  &quot;2023-06-01&quot; &quot;2023-02-07&quot; &quot;2022-09-28&quot;</span></span>
<span id="cb4-26"><a href="#cb4-26" tabindex="-1"></a><span class="co">#&gt;  $ time                       : chr  &quot;12:00&quot; &quot;14:45&quot; &quot;05:11&quot;</span></span>
<span id="cb4-27"><a href="#cb4-27" tabindex="-1"></a><span class="co">#&gt;  $ datetime                   : chr  &quot;2023-06-12T13:33&quot; &quot;2024-02-15T08:55&quot; &quot;2022-03-03T07:29&quot;</span></span>
<span id="cb4-28"><a href="#cb4-28" tabindex="-1"></a><span class="co">#&gt;  $ number_decimal             : chr  &quot;4.5&quot; &quot;2.2&quot; &quot;10.0&quot;</span></span>
<span id="cb4-29"><a href="#cb4-29" tabindex="-1"></a><span class="co">#&gt;  $ number_integer             : chr  &quot;77.0&quot; &quot;45.0&quot; &quot;98.0&quot;</span></span>
<span id="cb4-30"><a href="#cb4-30" tabindex="-1"></a><span class="co">#&gt;  $ slider                     : int  3 1 9</span></span>
<span id="cb4-31"><a href="#cb4-31" tabindex="-1"></a><span class="co">#&gt;  $ attachment_1               : chr  &quot;sÃ¸lvi.png&quot; &quot;&quot; &quot;&quot;</span></span>
<span id="cb4-32"><a href="#cb4-32" tabindex="-1"></a><span class="co">#&gt;  $ attachment_2               : chr  &quot;&quot; &quot;marius.jpeg&quot; &quot;&quot;</span></span>
<span id="cb4-33"><a href="#cb4-33" tabindex="-1"></a><span class="co">#&gt;  $ $answer_time_ms            : int  74630 71313 70230</span></span>
<span id="cb4-34"><a href="#cb4-34" tabindex="-1"></a><span class="fu">str</span>(lab_data)</span>
<span id="cb4-35"><a href="#cb4-35" tabindex="-1"></a><span class="co">#&gt; Classes &#39;ns-data&#39; and &#39;data.frame&#39;:  3 obs. of  31 variables:</span></span>
<span id="cb4-36"><a href="#cb4-36" tabindex="-1"></a><span class="co">#&gt;  $ formid                     : num  123823 123823 123823</span></span>
<span id="cb4-37"><a href="#cb4-37" tabindex="-1"></a><span class="co">#&gt;  $ $submission_id             : int  27685292 27685302 27685319</span></span>
<span id="cb4-38"><a href="#cb4-38" tabindex="-1"></a><span class="co">#&gt;  $ $created                   : chr  &quot;2023-06-01T20:57:15+02:00&quot; &quot;2023-06-01T20:58:33+02:00&quot; &quot;2023-06-01T20:59:50+02:00&quot;</span></span>
<span id="cb4-39"><a href="#cb4-39" tabindex="-1"></a><span class="co">#&gt;  $ freetext                   : &#39;character&#39; chr  &quot;some text&quot; &quot;another answer&quot; &quot;&quot;</span></span>
<span id="cb4-40"><a href="#cb4-40" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;label&quot;)= chr &quot;This is a question about something super important, where the user can input free text.&quot;</span></span>
<span id="cb4-41"><a href="#cb4-41" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;ns_type&quot;)= chr &quot;QUESTION&quot;</span></span>
<span id="cb4-42"><a href="#cb4-42" tabindex="-1"></a><span class="co">#&gt;  $ radio                      : hvn_lbll [1:3]  1, -1, -1</span></span>
<span id="cb4-43"><a href="#cb4-43" tabindex="-1"></a><span class="co">#&gt;    ..@ labels : Named int  1 -1</span></span>
<span id="cb4-44"><a href="#cb4-44" tabindex="-1"></a><span class="co">#&gt;    .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;Very happy!&quot; &quot;Very unhappy!&quot;</span></span>
<span id="cb4-45"><a href="#cb4-45" tabindex="-1"></a><span class="co">#&gt;    ..@ label  : chr &quot;How happy are we with Nettskjema?&quot;</span></span>
<span id="cb4-46"><a href="#cb4-46" tabindex="-1"></a><span class="co">#&gt;    ..@ ns_type: chr &quot;RADIO&quot;</span></span>
<span id="cb4-47"><a href="#cb4-47" tabindex="-1"></a><span class="co">#&gt;  $ checkbox.questionnaires    : hvn_lbll [1:3] 1, 0, 1</span></span>
<span id="cb4-48"><a href="#cb4-48" tabindex="-1"></a><span class="co">#&gt;    ..@ labels : Named chr &quot;questionnaires&quot;</span></span>
<span id="cb4-49"><a href="#cb4-49" tabindex="-1"></a><span class="co">#&gt;    .. ..- attr(*, &quot;names&quot;)= chr &quot;Questionnaires&quot;</span></span>
<span id="cb4-50"><a href="#cb4-50" tabindex="-1"></a><span class="co">#&gt;    ..@ label  : chr &quot;What do we use it for?:: Questionnaires&quot;</span></span>
<span id="cb4-51"><a href="#cb4-51" tabindex="-1"></a><span class="co">#&gt;    ..@ ns_type: chr &quot;CHECKBOX&quot;</span></span>
<span id="cb4-52"><a href="#cb4-52" tabindex="-1"></a><span class="co">#&gt;  $ checkbox.events            : hvn_lbll [1:3] 1, 0, 1</span></span>
<span id="cb4-53"><a href="#cb4-53" tabindex="-1"></a><span class="co">#&gt;    ..@ labels : Named chr &quot;events&quot;</span></span>
<span id="cb4-54"><a href="#cb4-54" tabindex="-1"></a><span class="co">#&gt;    .. ..- attr(*, &quot;names&quot;)= chr &quot;Event sign-ups&quot;</span></span>
<span id="cb4-55"><a href="#cb4-55" tabindex="-1"></a><span class="co">#&gt;    ..@ label  : chr &quot;What do we use it for?:: Event sign-ups&quot;</span></span>
<span id="cb4-56"><a href="#cb4-56" tabindex="-1"></a><span class="co">#&gt;    ..@ ns_type: chr &quot;CHECKBOX&quot;</span></span>
<span id="cb4-57"><a href="#cb4-57" tabindex="-1"></a><span class="co">#&gt;  $ checkbox.logs              : hvn_lbll [1:3] 0, 1, 1</span></span>
<span id="cb4-58"><a href="#cb4-58" tabindex="-1"></a><span class="co">#&gt;    ..@ labels : Named chr &quot;logs&quot;</span></span>
<span id="cb4-59"><a href="#cb4-59" tabindex="-1"></a><span class="co">#&gt;    .. ..- attr(*, &quot;names&quot;)= chr &quot;Data logging&quot;</span></span>
<span id="cb4-60"><a href="#cb4-60" tabindex="-1"></a><span class="co">#&gt;    ..@ label  : chr &quot;What do we use it for?:: Data logging&quot;</span></span>
<span id="cb4-61"><a href="#cb4-61" tabindex="-1"></a><span class="co">#&gt;    ..@ ns_type: chr &quot;CHECKBOX&quot;</span></span>
<span id="cb4-62"><a href="#cb4-62" tabindex="-1"></a><span class="co">#&gt;  $ dropdown                   : hvn_lbll [1:3] 4, 9, 4</span></span>
<span id="cb4-63"><a href="#cb4-63" tabindex="-1"></a><span class="co">#&gt;    ..@ labels : Named int  4 9</span></span>
<span id="cb4-64"><a href="#cb4-64" tabindex="-1"></a><span class="co">#&gt;    .. ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;UiO&quot; &quot;OsloMet&quot;</span></span>
<span id="cb4-65"><a href="#cb4-65" tabindex="-1"></a><span class="co">#&gt;    ..@ label  : chr &quot;Who is responsible with Nettskjema?&quot;</span></span>
<span id="cb4-66"><a href="#cb4-66" tabindex="-1"></a><span class="co">#&gt;    ..@ ns_type: chr &quot;SELECT&quot;</span></span>
<span id="cb4-67"><a href="#cb4-67" tabindex="-1"></a><span class="co">#&gt;  $ radio_matrix.grants        : hvn_lbll [1:3] 1, 3, 1</span></span>
<span id="cb4-68"><a href="#cb4-68" tabindex="-1"></a><span class="co">#&gt;    ..@ labels : Named int  1 2 3</span></span>
<span id="cb4-69"><a href="#cb4-69" tabindex="-1"></a><span class="co">#&gt;    .. ..- attr(*, &quot;names&quot;)= chr [1:3] &quot;yes&quot; &quot;no&quot; &quot;not applicable&quot;</span></span>
<span id="cb4-70"><a href="#cb4-70" tabindex="-1"></a><span class="co">#&gt;    ..@ label  : chr &quot;In the last month I have: written some grant applications&quot;</span></span>
<span id="cb4-71"><a href="#cb4-71" tabindex="-1"></a><span class="co">#&gt;    ..@ ns_type: chr &quot;MATRIX_RADIO&quot;</span></span>
<span id="cb4-72"><a href="#cb4-72" tabindex="-1"></a><span class="co">#&gt;  $ radio_matrix.lecture       : hvn_lbll [1:3] 2, 3, 1</span></span>
<span id="cb4-73"><a href="#cb4-73" tabindex="-1"></a><span class="co">#&gt;    ..@ labels : Named int  1 2 3</span></span>
<span id="cb4-74"><a href="#cb4-74" tabindex="-1"></a><span class="co">#&gt;    .. ..- attr(*, &quot;names&quot;)= chr [1:3] &quot;yes&quot; &quot;no&quot; &quot;not applicable&quot;</span></span>
<span id="cb4-75"><a href="#cb4-75" tabindex="-1"></a><span class="co">#&gt;    ..@ label  : chr &quot;In the last month I have: held a lecture&quot;</span></span>
<span id="cb4-76"><a href="#cb4-76" tabindex="-1"></a><span class="co">#&gt;    ..@ ns_type: chr &quot;MATRIX_RADIO&quot;</span></span>
<span id="cb4-77"><a href="#cb4-77" tabindex="-1"></a><span class="co">#&gt;  $ radio_matrix.email         : hvn_lbll [1:3] 2, 1, 1</span></span>
<span id="cb4-78"><a href="#cb4-78" tabindex="-1"></a><span class="co">#&gt;    ..@ labels : Named int  1 2 3</span></span>
<span id="cb4-79"><a href="#cb4-79" tabindex="-1"></a><span class="co">#&gt;    .. ..- attr(*, &quot;names&quot;)= chr [1:3] &quot;yes&quot; &quot;no&quot; &quot;not applicable&quot;</span></span>
<span id="cb4-80"><a href="#cb4-80" tabindex="-1"></a><span class="co">#&gt;    ..@ label  : chr &quot;In the last month I have: sent some e-mails&quot;</span></span>
<span id="cb4-81"><a href="#cb4-81" tabindex="-1"></a><span class="co">#&gt;    ..@ ns_type: chr &quot;MATRIX_RADIO&quot;</span></span>
<span id="cb4-82"><a href="#cb4-82" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.1.IT       : hvn_lbll [1:3] 1, 0, 0</span></span>
<span id="cb4-83"><a href="#cb4-83" tabindex="-1"></a><span class="co">#&gt;    ..@ labels : Named chr &quot;IT&quot;</span></span>
<span id="cb4-84"><a href="#cb4-84" tabindex="-1"></a><span class="co">#&gt;    .. ..- attr(*, &quot;names&quot;)= chr &quot;IT&quot;</span></span>
<span id="cb4-85"><a href="#cb4-85" tabindex="-1"></a><span class="co">#&gt;    ..@ label  : chr &quot;In the last year, I have :: sought help from :: IT&quot;</span></span>
<span id="cb4-86"><a href="#cb4-86" tabindex="-1"></a><span class="co">#&gt;    ..@ ns_type: chr &quot;MATRIX_CHECKBOX&quot;</span></span>
<span id="cb4-87"><a href="#cb4-87" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.1.colleague: hvn_lbll [1:3] 1, 0, 1</span></span>
<span id="cb4-88"><a href="#cb4-88" tabindex="-1"></a><span class="co">#&gt;    ..@ labels : Named chr &quot;colleague&quot;</span></span>
<span id="cb4-89"><a href="#cb4-89" tabindex="-1"></a><span class="co">#&gt;    .. ..- attr(*, &quot;names&quot;)= chr &quot;A colleague&quot;</span></span>
<span id="cb4-90"><a href="#cb4-90" tabindex="-1"></a><span class="co">#&gt;    ..@ label  : chr &quot;In the last year, I have :: sought help from :: A colleague&quot;</span></span>
<span id="cb4-91"><a href="#cb4-91" tabindex="-1"></a><span class="co">#&gt;    ..@ ns_type: chr &quot;MATRIX_CHECKBOX&quot;</span></span>
<span id="cb4-92"><a href="#cb4-92" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.1.admin    : hvn_lbll [1:3] 0, 0, 0</span></span>
<span id="cb4-93"><a href="#cb4-93" tabindex="-1"></a><span class="co">#&gt;    ..@ labels : Named chr &quot;admin&quot;</span></span>
<span id="cb4-94"><a href="#cb4-94" tabindex="-1"></a><span class="co">#&gt;    .. ..- attr(*, &quot;names&quot;)= chr &quot;Administration&quot;</span></span>
<span id="cb4-95"><a href="#cb4-95" tabindex="-1"></a><span class="co">#&gt;    ..@ label  : chr &quot;In the last year, I have :: sought help from :: Administration&quot;</span></span>
<span id="cb4-96"><a href="#cb4-96" tabindex="-1"></a><span class="co">#&gt;    ..@ ns_type: chr &quot;MATRIX_CHECKBOX&quot;</span></span>
<span id="cb4-97"><a href="#cb4-97" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.1.union    : hvn_lbll [1:3] 0, 0, 0</span></span>
<span id="cb4-98"><a href="#cb4-98" tabindex="-1"></a><span class="co">#&gt;    ..@ labels : Named chr &quot;union&quot;</span></span>
<span id="cb4-99"><a href="#cb4-99" tabindex="-1"></a><span class="co">#&gt;    .. ..- attr(*, &quot;names&quot;)= chr &quot;Union&quot;</span></span>
<span id="cb4-100"><a href="#cb4-100" tabindex="-1"></a><span class="co">#&gt;    ..@ label  : chr &quot;In the last year, I have :: sought help from :: Union&quot;</span></span>
<span id="cb4-101"><a href="#cb4-101" tabindex="-1"></a><span class="co">#&gt;    ..@ ns_type: chr &quot;MATRIX_CHECKBOX&quot;</span></span>
<span id="cb4-102"><a href="#cb4-102" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.1.internet : hvn_lbll [1:3] 0, 1, 1</span></span>
<span id="cb4-103"><a href="#cb4-103" tabindex="-1"></a><span class="co">#&gt;    ..@ labels : Named chr &quot;internet&quot;</span></span>
<span id="cb4-104"><a href="#cb4-104" tabindex="-1"></a><span class="co">#&gt;    .. ..- attr(*, &quot;names&quot;)= chr &quot;Internet&quot;</span></span>
<span id="cb4-105"><a href="#cb4-105" tabindex="-1"></a><span class="co">#&gt;    ..@ label  : chr &quot;In the last year, I have :: sought help from :: Internet&quot;</span></span>
<span id="cb4-106"><a href="#cb4-106" tabindex="-1"></a><span class="co">#&gt;    ..@ ns_type: chr &quot;MATRIX_CHECKBOX&quot;</span></span>
<span id="cb4-107"><a href="#cb4-107" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.2.IT       : hvn_lbll [1:3] 0, 0, 1</span></span>
<span id="cb4-108"><a href="#cb4-108" tabindex="-1"></a><span class="co">#&gt;    ..@ labels : Named chr &quot;IT&quot;</span></span>
<span id="cb4-109"><a href="#cb4-109" tabindex="-1"></a><span class="co">#&gt;    .. ..- attr(*, &quot;names&quot;)= chr &quot;IT&quot;</span></span>
<span id="cb4-110"><a href="#cb4-110" tabindex="-1"></a><span class="co">#&gt;    ..@ label  : chr &quot;In the last year, I have :: received e-mails from :: IT&quot;</span></span>
<span id="cb4-111"><a href="#cb4-111" tabindex="-1"></a><span class="co">#&gt;    ..@ ns_type: chr &quot;MATRIX_CHECKBOX&quot;</span></span>
<span id="cb4-112"><a href="#cb4-112" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.2.colleague: hvn_lbll [1:3] 0, 0, 1</span></span>
<span id="cb4-113"><a href="#cb4-113" tabindex="-1"></a><span class="co">#&gt;    ..@ labels : Named chr &quot;colleague&quot;</span></span>
<span id="cb4-114"><a href="#cb4-114" tabindex="-1"></a><span class="co">#&gt;    .. ..- attr(*, &quot;names&quot;)= chr &quot;A colleague&quot;</span></span>
<span id="cb4-115"><a href="#cb4-115" tabindex="-1"></a><span class="co">#&gt;    ..@ label  : chr &quot;In the last year, I have :: received e-mails from :: A colleague&quot;</span></span>
<span id="cb4-116"><a href="#cb4-116" tabindex="-1"></a><span class="co">#&gt;    ..@ ns_type: chr &quot;MATRIX_CHECKBOX&quot;</span></span>
<span id="cb4-117"><a href="#cb4-117" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.2.admin    : hvn_lbll [1:3] 1, 1, 1</span></span>
<span id="cb4-118"><a href="#cb4-118" tabindex="-1"></a><span class="co">#&gt;    ..@ labels : Named chr &quot;admin&quot;</span></span>
<span id="cb4-119"><a href="#cb4-119" tabindex="-1"></a><span class="co">#&gt;    .. ..- attr(*, &quot;names&quot;)= chr &quot;Administration&quot;</span></span>
<span id="cb4-120"><a href="#cb4-120" tabindex="-1"></a><span class="co">#&gt;    ..@ label  : chr &quot;In the last year, I have :: received e-mails from :: Administration&quot;</span></span>
<span id="cb4-121"><a href="#cb4-121" tabindex="-1"></a><span class="co">#&gt;    ..@ ns_type: chr &quot;MATRIX_CHECKBOX&quot;</span></span>
<span id="cb4-122"><a href="#cb4-122" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.2.union    : hvn_lbll [1:3] 0, 1, 1</span></span>
<span id="cb4-123"><a href="#cb4-123" tabindex="-1"></a><span class="co">#&gt;    ..@ labels : Named chr &quot;union&quot;</span></span>
<span id="cb4-124"><a href="#cb4-124" tabindex="-1"></a><span class="co">#&gt;    .. ..- attr(*, &quot;names&quot;)= chr &quot;Union&quot;</span></span>
<span id="cb4-125"><a href="#cb4-125" tabindex="-1"></a><span class="co">#&gt;    ..@ label  : chr &quot;In the last year, I have :: received e-mails from :: Union&quot;</span></span>
<span id="cb4-126"><a href="#cb4-126" tabindex="-1"></a><span class="co">#&gt;    ..@ ns_type: chr &quot;MATRIX_CHECKBOX&quot;</span></span>
<span id="cb4-127"><a href="#cb4-127" tabindex="-1"></a><span class="co">#&gt;  $ checkbox_matrix.2.internet : hvn_lbll [1:3] 0, 0, 0</span></span>
<span id="cb4-128"><a href="#cb4-128" tabindex="-1"></a><span class="co">#&gt;    ..@ labels : Named chr &quot;internet&quot;</span></span>
<span id="cb4-129"><a href="#cb4-129" tabindex="-1"></a><span class="co">#&gt;    .. ..- attr(*, &quot;names&quot;)= chr &quot;Internet&quot;</span></span>
<span id="cb4-130"><a href="#cb4-130" tabindex="-1"></a><span class="co">#&gt;    ..@ label  : chr &quot;In the last year, I have :: received e-mails from :: Internet&quot;</span></span>
<span id="cb4-131"><a href="#cb4-131" tabindex="-1"></a><span class="co">#&gt;    ..@ ns_type: chr &quot;MATRIX_CHECKBOX&quot;</span></span>
<span id="cb4-132"><a href="#cb4-132" tabindex="-1"></a><span class="co">#&gt;  $ date                       : &#39;character&#39; chr  &quot;2023-06-01&quot; &quot;2023-02-07&quot; &quot;2022-09-28&quot;</span></span>
<span id="cb4-133"><a href="#cb4-133" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;label&quot;)= chr &quot;Choose a random date&quot;</span></span>
<span id="cb4-134"><a href="#cb4-134" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;ns_type&quot;)= chr &quot;DATE&quot;</span></span>
<span id="cb4-135"><a href="#cb4-135" tabindex="-1"></a><span class="co">#&gt;  $ time                       : &#39;character&#39; chr  &quot;12:00&quot; &quot;14:45&quot; &quot;05:11&quot;</span></span>
<span id="cb4-136"><a href="#cb4-136" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;label&quot;)= chr &quot;now choose a random time!&quot;</span></span>
<span id="cb4-137"><a href="#cb4-137" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;ns_type&quot;)= chr &quot;DATE&quot;</span></span>
<span id="cb4-138"><a href="#cb4-138" tabindex="-1"></a><span class="co">#&gt;  $ datetime                   : &#39;character&#39; chr  &quot;2023-06-12T13:33&quot; &quot;2024-02-15T08:55&quot; &quot;2022-03-03T07:29&quot;</span></span>
<span id="cb4-139"><a href="#cb4-139" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;label&quot;)= chr &quot;Lastly choose a date AND time!&quot;</span></span>
<span id="cb4-140"><a href="#cb4-140" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;ns_type&quot;)= chr &quot;DATE&quot;</span></span>
<span id="cb4-141"><a href="#cb4-141" tabindex="-1"></a><span class="co">#&gt;  $ number_decimal             : &#39;numeric&#39; chr  &quot;4.5&quot; &quot;2.2&quot; &quot;10.0&quot;</span></span>
<span id="cb4-142"><a href="#cb4-142" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;label&quot;)= chr &quot;Pick a number between 0 and 10!&quot;</span></span>
<span id="cb4-143"><a href="#cb4-143" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;ns_type&quot;)= chr &quot;NUMBER&quot;</span></span>
<span id="cb4-144"><a href="#cb4-144" tabindex="-1"></a><span class="co">#&gt;  $ number_integer             : &#39;numeric&#39; chr  &quot;77.0&quot; &quot;45.0&quot; &quot;98.0&quot;</span></span>
<span id="cb4-145"><a href="#cb4-145" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;label&quot;)= chr &quot;Choose an integer between 0 and 100&quot;</span></span>
<span id="cb4-146"><a href="#cb4-146" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;ns_type&quot;)= chr &quot;NUMBER&quot;</span></span>
<span id="cb4-147"><a href="#cb4-147" tabindex="-1"></a><span class="co">#&gt;  $ slider                     : int  3 1 9</span></span>
<span id="cb4-148"><a href="#cb4-148" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;label&quot;)= chr &quot;Choose a point on the slider!&quot;</span></span>
<span id="cb4-149"><a href="#cb4-149" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;ns_type&quot;)= chr &quot;LINEAR_SCALE&quot;</span></span>
<span id="cb4-150"><a href="#cb4-150" tabindex="-1"></a><span class="co">#&gt;  $ attachment_1               : &#39;character&#39; chr  &quot;sÃ¸lvi.png&quot; &quot;&quot; &quot;&quot;</span></span>
<span id="cb4-151"><a href="#cb4-151" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;label&quot;)= chr &quot;Upload a fun image!&quot;</span></span>
<span id="cb4-152"><a href="#cb4-152" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;ns_type&quot;)= chr &quot;ATTACHMENT&quot;</span></span>
<span id="cb4-153"><a href="#cb4-153" tabindex="-1"></a><span class="co">#&gt;  $ attachment_2               : &#39;character&#39; chr  &quot;&quot; &quot;marius.jpeg&quot; &quot;&quot;</span></span>
<span id="cb4-154"><a href="#cb4-154" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;label&quot;)= chr &quot;This is an attachment2&quot;</span></span>
<span id="cb4-155"><a href="#cb4-155" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;ns_type&quot;)= chr &quot;ATTACHMENT&quot;</span></span>
<span id="cb4-156"><a href="#cb4-156" tabindex="-1"></a><span class="co">#&gt;  $ $answer_time_ms            : int  74630 71313 70230</span></span></code></pre></div>
<p>You can see there are lots of label attributes attached to
<code>lab_data</code> that are not there in the <code>data</code>
object. These labels are attached from the codebook, and provide
important context to what the data source actually is. These hidden
features of the data are unlocked when working with functions from the
{haven} package.</p>
<p>Notice how the metadata (variable and value labels) are now embedded
in the dataset.</p>
</div>
<div id="exploring-labelled-data-with-haven" class="section level2">
<h2>Exploring Labelled Data with <code>{haven}</code></h2>
<p>Once your data has been labelled, the <code>{haven}</code> package
provides functionalities to inspect and manipulate labels with ease.</p>
<div id="inspecting-labels" class="section level3">
<h3>Inspecting Labels</h3>
<p>Use <code>var_label()</code> to extract variable-level labels and
<code>val_labels()</code> to extract value-level labels:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">library</span>(labelled)</span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># Variable labels</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="fu">var_label</span>(lab_data<span class="sc">$</span>freetext)</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a><span class="co">#&gt; [1] &quot;This is a question about something super important, where the user can input free text.&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># Value labels for &#39;radio&#39;</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="fu">val_labels</span>(lab_data<span class="sc">$</span>radio)</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="co">#&gt;   Very happy! Very unhappy! </span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="co">#&gt;             1            -1</span></span></code></pre></div>
</div>
<div id="modifying-labels" class="section level3">
<h3>Modifying Labels</h3>
<p>If you need to modify labels, we suggest you do this directly in the
Nettskjema codebook setup. However, if you are working on a form that is
no longer available in Nettskjema, and you have downloaded and saved
both the data and the codebook (or the labelled data), labels can be
modified using <code>{haven}</code>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>lab_data<span class="sc">$</span>freetex</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="co">#&gt; [1] &quot;some text&quot;      &quot;another answer&quot; &quot;&quot;              </span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="co">#&gt; attr(,&quot;label&quot;)</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="co">#&gt; [1] &quot;This is a question about something super important, where the user can input free text.&quot;</span></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="co">#&gt; attr(,&quot;ns_type&quot;)</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="co">#&gt; [1] &quot;QUESTION&quot;</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="co">#&gt; attr(,&quot;class&quot;)</span></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="co">#&gt; [1] &quot;character&quot;</span></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a><span class="co"># Update variable-level label for &#39;freetext&#39;</span></span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a><span class="fu">var_label</span>(lab_data<span class="sc">$</span>freetext) <span class="ot">&lt;-</span> <span class="st">&quot;Important freetext comment&quot;</span></span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a>lab_data<span class="sc">$</span>radio</span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a><span class="co">#&gt; &lt;labelled&lt;integer&gt;[3]&gt;: How happy are we with Nettskjema?</span></span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a><span class="co">#&gt; [1]  1 -1 -1</span></span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb8-16"><a href="#cb8-16" tabindex="-1"></a><span class="co">#&gt; Labels:</span></span>
<span id="cb8-17"><a href="#cb8-17" tabindex="-1"></a><span class="co">#&gt;  value         label</span></span>
<span id="cb8-18"><a href="#cb8-18" tabindex="-1"></a><span class="co">#&gt;      1   Very happy!</span></span>
<span id="cb8-19"><a href="#cb8-19" tabindex="-1"></a><span class="co">#&gt;     -1 Very unhappy!</span></span>
<span id="cb8-20"><a href="#cb8-20" tabindex="-1"></a><span class="co"># Update value labels for &#39;radio&#39;</span></span>
<span id="cb8-21"><a href="#cb8-21" tabindex="-1"></a><span class="fu">val_labels</span>(lab_data<span class="sc">$</span>radio) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">Unhappy =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">Happy =</span> <span class="dv">1</span>)</span>
<span id="cb8-22"><a href="#cb8-22" tabindex="-1"></a></span>
<span id="cb8-23"><a href="#cb8-23" tabindex="-1"></a><span class="co"># Check updated labels</span></span>
<span id="cb8-24"><a href="#cb8-24" tabindex="-1"></a><span class="fu">var_label</span>(lab_data<span class="sc">$</span>freetext)</span>
<span id="cb8-25"><a href="#cb8-25" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Important freetext comment&quot;</span></span>
<span id="cb8-26"><a href="#cb8-26" tabindex="-1"></a><span class="fu">val_labels</span>(lab_data<span class="sc">$</span>radio)</span>
<span id="cb8-27"><a href="#cb8-27" tabindex="-1"></a><span class="co">#&gt; Unhappy   Happy </span></span>
<span id="cb8-28"><a href="#cb8-28" tabindex="-1"></a><span class="co">#&gt;      -1       1</span></span></code></pre></div>
</div>
</div>
<div id="benefits-of-using-labelled-data" class="section level2">
<h2>Benefits of Using Labelled Data</h2>
<p>Some key benefits include the following: 1. <strong>Enhanced
Documentation</strong>: Embedding metadata directly in the dataset
improves clarity. 2. <strong>Consistency</strong>: Reduces ambiguity
when working across different teams or systems. 3.
<strong>Compatibility</strong>: Facilitates interoperability with SPSS,
Stata, and other statistical software.</p>
<p>For more information, check out the <a href="https://larmarange.github.io/labelled/">labelled package
documentation</a>.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
